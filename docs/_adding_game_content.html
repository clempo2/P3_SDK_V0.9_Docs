<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>P3-SDK: Adding Game Content</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">P3-SDK<span id="projectnumber">&#160;0.9</span>
   </div>
   <div id="projectbrief">P3 Software Development Kit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('_adding_game_content.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Adding Game Content </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__docs_280_01_adding_01_g_u_i_01_game_01_content"></a></p>
<h1 class="doxsection"><a class="anchor" id="PopupScores"></a>
Popup Scores</h1>
<p>It's helpful to show the player how much a target they hit was worth. Ideally, it's best if the score values appear near the target where that score was achieved. This ability is supported by the popupScores member (which is an instance of <a class="el" href="class_multimorphic_1_1_p3_app_1_1_g_u_i_1_1_popup_score_controller.html">PopupScoreController</a>).</p>
<p>All SceneController and P3Aware descendants have a popupScores member which can be told to spawn a visual score popup. Remembering that the responsibility of keeping score and determining a target's point value lies with the mode layer, this is usually in response to a mode event which passes the target's value into the handler. </p><div class="fragment"><div class="line">public void TargetHitEventHandler(string eventName, object eventObject) {</div>
<div class="line">    long score = (long)eventObject;</div>
<div class="line">    popupScores.Spawn(&quot;Nice shot!&quot;, score);</div>
<div class="line">}</div>
</div><!-- fragment --><p> This example above handles an event, interprets the event data as the target's point value, then spawns a score popup with that value and the phrase "Nice shot!", to appear at the screen center.</p>
<p>popupScores.Spawn() has many overloaded signatures, including the ability to specify the screen location where the popup first appears, the location that it drifts towards, what speed it drifts at and how long it should stay onscreen. Positions can be referenced as Vector3 or as named locations. See PopupScoreController and <a class="el" href="#NamedLocations">Named Locations</a>.</p>
<p>Spawn instantiates a prefab for the popup, called &lt;AppCode&gt;ScorePopup (e.g. P3SAScorePopup). There is a script component of the same name attached to it. This component descends from ScorePopup so it knows how to move according to the Spawn call that created it.</p>
<p>The visual appearance and behaviour of the popup score can be customized for your app. You can modify the prefab by adding, say, an interesting particle effect. In the prefab script component, the overridden AfterInitialization method can be used to decide if the particle system should be used or not.</p>
<dl class="section see"><dt>See also</dt><dd>Classes <a class="el" href="class_multimorphic_1_1_p3_app_1_1_g_u_i_1_1_p3_aware.html">P3Aware</a>, <a class="el" href="class_multimorphic_1_1_p3_app_1_1_g_u_i_1_1_scene_controller.html">SceneController</a> and <a class="el" href="class_multimorphic_1_1_p3_app_1_1_g_u_i_1_1_popup_score_controller.html">PopupScoreController</a>.</dd></dl>
<h1 class="doxsection"><a class="anchor" id="NamedLocations"></a>
Named Locations</h1>
<p>Several overloaded signatures of popupScores.Spawn allow you to specify a named location for the popup to appear at and drift towards.</p>
<p>The named locations are specified in two prefabs: P3NamedLocations and another prefab called &lt;AppCode&gt;NamedLocations (e.g. P3SANamedLocations). These prefabs get automatically created by the SceneController so that they are in every scene for reference by popupScores.</p>
<p>P3NamedLocations contains some helpful locations that are part of the standard P3 layout. When your app is running, you can see these locations and their names under the P3NamedLocations (Clone) object in the scene Hierarchy. Some examples of locations are:</p><ul>
<li>screenCenter</li>
<li>playableLCDCenter</li>
<li>upperCentral</li>
<li>flipperGap</li>
<li>sideTarget0 (also 1-7)</li>
<li>scoop0 (also 1-7)</li>
<li>lcdCorner0 (also 1-3)</li>
</ul>
<p>You can add empty game objects to your NamedLocations prefab (e.g. P3SANamedLocations.prefab). The names and locations of those empty game objects will automatically be found by the PopupScoreController so you can reference those locations by name in popupScores.Spawn(). Some of your locations will likely be in the upper playfield area which is off screen. You can still use these named locations, but your popup scores might take some time to drift into the visible area of the screen. Some overloaded signatures of popupScores.Spawn allow you to truncate those starting positions so that they appear at the edge of the screen initially, in the direction of your offscreen named location. See PopupScoreController.</p>
<h1 class="doxsection"><a class="anchor" id="AddScene"></a>
Adding a Scene</h1>
<p>In the Unity Editor, select "Add new scene" from the Multimorphic menu. Enter the scene name and click Continue. A new scene will be created with its own scene controller script. You can then add scene-specific code to the scene controller script. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
