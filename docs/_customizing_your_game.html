<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>P3-SDK: Customizing Your Game</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">P3-SDK<span id="projectnumber">&#160;0.9</span>
   </div>
   <div id="projectbrief">P3 Software Development Kit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('_customizing_your_game.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Customizing Your Game </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__docs_285_01_customizing_01_your_01_app"></a></p>
<h1 class="doxsection"><a class="anchor" id="BasicGameFeatures"></a>
Basic Game Features</h1>
<h2 class="doxsection"><a class="anchor" id="Scoring"></a>
Scoring</h2>
<p>The P3 framework contains a static class scoring-related functionality. That class is <a class="el" href="class_multimorphic_1_1_p3_app_1_1_modes_1_1_score_manager.html">Multimorphic.P3App.Modes.ScoreManager</a>, and it is set up automatically in BaseGameMode.</p>
<p>A common thing to customize in a game is the way the score and related information are displayed to the player. The framework includes the <a class="el" href="class_multimorphic_1_1_p3_app_1_1_g_u_i_1_1_player_score_display.html">Multimorphic.P3App.GUI.PlayerScoreDisplay</a> script which works on the P3 Sample App's HUD scoring object, but you can display scores however you want. The ModeToGUI events associated with display scores include:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Event Name  </th><th class="markdownTableHeadLeft">Parameter Type  </th><th class="markdownTableHeadLeft">Parameter Meaning  </th><th class="markdownTableHeadLeft">Event Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Evt_Score  </td><td class="markdownTableBodyLeft">long  </td><td class="markdownTableBodyLeft">Current score  </td><td class="markdownTableBodyLeft">Update the current player's score on-screen  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Evt_ScoreReset  </td><td class="markdownTableBodyLeft">any  </td><td class="markdownTableBodyLeft">N/A  </td><td class="markdownTableBodyLeft">Reset all score display data  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Evt_ScoreAddPlayer  </td><td class="markdownTableBodyLeft">string  </td><td class="markdownTableBodyLeft">Player's name  </td><td class="markdownTableBodyLeft">Add a new player to the game  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Evt_ScoreRemovePlayer  </td><td class="markdownTableBodyLeft">int  </td><td class="markdownTableBodyLeft">1-based number of player being removed  </td><td class="markdownTableBodyLeft">Remove a player from the game  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Evt_ScoreActivatePlayer  </td><td class="markdownTableBodyLeft">int  </td><td class="markdownTableBodyLeft">0-based number of newly active player  </td><td class="markdownTableBodyLeft">Inform which player is currently playing  </td></tr>
</table>
<p>By handling these events, you can show the names of all of the players in a game, show which one is currently playing, and show all of their current scores.</p>
<p>In a mode, you can always access the current player's score with the following code: </p><div class="fragment"><div class="line">data.currentPlayer.GetData(&quot;Score&quot;, 0L));</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="Replays"></a>
Replays</h2>
<p>Replay logic monitors the player's score to see when it crosses a replay threshold. Immediately upon that occuring, an "Evt_ReplayAchieved" event is sent as a ModeToMode event and a ModeToGUI event, with the (long)threshold as the parameter (to be handled as desired by game code). Then, at the end of game, the replay threshold may be adjusted up or down based on players achieving or not achieving the threshold.</p>
<p>The following are protected properties in SettingsMode that you can change in your SettingsMode subclass:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Property  </th><th class="markdownTableHeadLeft">Property Type  </th><th class="markdownTableHeadLeft">Default Value  </th><th class="markdownTableHeadLeft">Property Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">replayScoreLevelsEnabled  </td><td class="markdownTableBodyLeft">bool  </td><td class="markdownTableBodyLeft">true  </td><td class="markdownTableBodyLeft">High level enable for the replay subsystem  </td></tr>
</table>
<p>The following GameAttributes are defined by default if the above replayScoreLevelsEnabled property is true</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Name  </th><th class="markdownTableHeadLeft">Description  </th><th class="markdownTableHeadLeft">Min  </th><th class="markdownTableHeadLeft">Max  </th><th class="markdownTableHeadLeft">Increment  </th><th class="markdownTableHeadLeft">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">ReplaysEnabled  </td><td class="markdownTableBodyLeft">Replay feature enabled  </td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft">true  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">MinReplayScore  </td><td class="markdownTableBodyLeft">Minimum replay score  </td><td class="markdownTableBodyLeft">1000000L  </td><td class="markdownTableBodyLeft">10000000L  </td><td class="markdownTableBodyLeft">250000L  </td><td class="markdownTableBodyLeft">1000000L  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">CurrentReplayScore  </td><td class="markdownTableBodyLeft">Current replay score  </td><td class="markdownTableBodyLeft">1000000L  </td><td class="markdownTableBodyLeft">10000000L  </td><td class="markdownTableBodyLeft">250000L  </td><td class="markdownTableBodyLeft">1000000L  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">DynamicReplayScoreIncValue  </td><td class="markdownTableBodyLeft">Amount to increase the reply score when the current one is achieved (at end of game)  </td><td class="markdownTableBodyLeft">100000L  </td><td class="markdownTableBodyLeft">1000000L  </td><td class="markdownTableBodyLeft">50000L  </td><td class="markdownTableBodyLeft">250000L  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">DynamicReplayScoreDecValue  </td><td class="markdownTableBodyLeft">Amount to decrement the reply score when the current one is not achieved in some time  </td><td class="markdownTableBodyLeft">100000L  </td><td class="markdownTableBodyLeft">1000000L  </td><td class="markdownTableBodyLeft">50000L  </td><td class="markdownTableBodyLeft">250000L  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">DynamicReplayConsecutiveMissesBeforeDec  </td><td class="markdownTableBodyLeft">Number of consecutive games failing to reach the replay score before decrementing the replay score  </td><td class="markdownTableBodyLeft">1  </td><td class="markdownTableBodyLeft">1000  </td><td class="markdownTableBodyLeft">1  </td><td class="markdownTableBodyLeft">5  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">DynamicReplayConsecutiveMissesSoFar  </td><td class="markdownTableBodyLeft">Current number of consecutive games failing to reach the replay score  </td><td class="markdownTableBodyLeft">0  </td><td class="markdownTableBodyLeft">1000  </td><td class="markdownTableBodyLeft">1  </td><td class="markdownTableBodyLeft">5  </td></tr>
</table>
<p>When the player's score exceeds a replay level, the following event is posted as both a ModeToMode event and a ModeToGUI event.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Event Name  </th><th class="markdownTableHeadLeft">Parameter Type  </th><th class="markdownTableHeadLeft">Parameter Meaning  </th><th class="markdownTableHeadLeft">Event Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Evt_ReplayAchieved  </td><td class="markdownTableBodyLeft">long  </td><td class="markdownTableBodyLeft">target score of replay level achieved  </td><td class="markdownTableBodyLeft">Player's score just exceeded a replay level  </td></tr>
</table>
<p>Also, at the end of the game, the CurrentReplayScore is incremented if one or more players achieved the replay threshold. If no players achieved the replay threshold, then DynamicReplayConsecutiveMissesSoFar is incremented (one time, regardless of the number of players per game), and if the new value reaches DynamicReplayConsecutiveMissesBeforeDec, then the replay threshold is decremented.</p>
<p><em>Note</em> - Restored games via player profiles are explicitly excluded from replay level checks.</p>
<h2 class="doxsection"><a class="anchor" id="GameManagement"></a>
Game Management</h2>
<p>The P3 framework has built-in logic to manage the skeleton structure of a game, including managing the coin slots for credit management, start button for adding players to a game, launch button for launching the first ball in a player's turn, and processing end-of-ball/end-of-game and typical features associated with that, like end of ball bonuses, tilt handling, and high-score checking and name entry.</p>
<p>If your game or application does not need standard start of game handling (credits and start button handling), you can disable that functionality by overriding PossiblyStartGameManagerMode() in your &lt;AppCode&gt;BaseGameMode class. Then you can optionally add your own start of game handling.</p>
<div class="fragment"><div class="line">protected override void PossiblyStartGameManagerMode()</div>
<div class="line">{</div>
<div class="line">    // Your custom implementation here</div>
<div class="line">}</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="EndOfBallBonus"></a>
End Of Ball Bonus</h2>
<p>By default, bonusMode will be added to the mode queue at the end of each ball to handle bonus calculations. When the framework code instantiates bonusMode, it also passes the bonusInfo object into it. bonusInfo is instantiated by the framework as a <a class="el" href="class_multimorphic_1_1_p3_app_1_1_modes_1_1_bonus_info.html">Multimorphic.P3App.Modes.BonusInfo</a> object and simply needs to be assigned to a <a class="el" href="class_multimorphic_1_1_p3_app_1_1_modes_1_1_bonus_info.html">Multimorphic.P3App.Modes.BonusInfo</a> in &lt;AppCode&gt;BaseGameMode.BallEndedEventHandler. An example:</p>
<div class="fragment"><div class="line">protected override bool BallEndedEventHandler(string eventName, object eventData)</div>
<div class="line">{</div>
<div class="line">    if (!forcePlayerChangeActive)</div>
<div class="line">    {</div>
<div class="line">        // Reset scoring multiplier before applying bonus.</div>
<div class="line">        ScoreManager.SetX(1);</div>
<div class="line">        bonusInfo = homeMode.getBonusInfo();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    return base.BallEndedEventHandler(eventName, eventData);</div>
<div class="line">}</div>
</div><!-- fragment --><p>For displaying the bonus, the framework (via bonusMode) will post:</p>
<div class="fragment"><div class="line">PostModeEventToGUI(&quot;Evt_SetBonusData&quot;, data);</div>
</div><!-- fragment --><p>and it will subscribe and wait to receive the GUIToMode event "Evt_BonusComplete" before finishing end of ball processing. The framework also takes care of adding the bonus to the score after the GUI event "Evt_BonusComplete" is received.</p>
<p>To turn off framework handling of the end of ball bonus, set "bonusModeEnabled" to false in &lt;AppCode&gt;BaseGameMode.</p>
<h2 class="doxsection"><a class="anchor" id="Tilt"></a>
Tilt Handling</h2>
<p>By default BaseGameMode instantiates tiltMode (an instance of <a class="el" href="class_multimorphic_1_1_p3_app_1_1_modes_1_1_tilt_mode.html">Multimorphic.P3App.Modes.TiltMode</a>), which monitors the tilt switch in the P3 (p3.Switches["tilt"]). A switch active event will cause both a ModeToMode and ModeToGUI Evt_TiltWarning event when the number of warnings hasn't been exceeded. Otherwise, it will issue only a ModeToMode Evt_Tilted event.</p>
<p>HomeMode handles the Evt_Tilted event as follows: it stops its playlist; it sends the ModeToGUI event Evt_Tilted to provide on-screen feedback; it starts TiltedMode; finally it sends the Evt_TiltProcess event.</p>
<p><a class="el" href="class_multimorphic_1_1_p3_s_a_1_1_modes_1_1_tilted_mode.html">TiltedMode</a> is a high priority mode that disables flippers and bumpers, turns off all leds, and ensures no other scoring events happen until the end-of-ball is processed. It will also relaunch balls if they fall into a hole.</p>
<p>GameModes do not handle Evt_Tilted directly, as it must first be processed by HomeMode. Instead, they respond to the Evt_TiltProcess event sent by HomeMode. By default, the TiltProcessEventHandler in <a class="el" href="class_multimorphic_1_1_p3_s_a_1_1_modes_1_1_p3_s_a_game_mode.html">P3SAGameMode</a> stops the mode playlists and removes the mode, which is often sufficient. However, if a mode produces dynamic visual effects (e.g., <a class="el" href="class_multimorphic_1_1_p3_s_a_1_1_modes_1_1_moving_target_mode.html">MovingTargetMode</a> in P3SampleApp), it will likely override TiltProcessEventHandler to send an event to the GUI to stop the effect. Multiball modes must also override TiltProcessEventHandler to disable the mode while continuing to track ball count, so that the game can proceed and process the end-of-ball when all active balls drain.</p>
<p>After an Evt_Tilted event, TiltMode waits until the tilt switch has been inactive for at least the <a class="el" href="_persistent_data.html#TiltGameAttributes">TiltSettleDelay</a> before sending the Evt_TiltSettled event. HomeMode delays the end of ball processing until all balls have drained and the Evt_TiltSettled event has been received. This ensures the next player is not penalized by a spurious tilt caused by the previous player.</p>
<p>When the end-of-ball and/or end-of-game is processed, tiltMode is removed from the mode queue, and that causes the ModeToMode Evt_TiltProcessingComplete event to fire.</p>
<p>Tilt ModeToMode events issued by <a class="el" href="class_multimorphic_1_1_p3_app_1_1_modes_1_1_tilt_mode.html">Multimorphic.P3App.Modes.TiltMode</a></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Event Name  </th><th class="markdownTableHeadLeft">Parameter Type  </th><th class="markdownTableHeadLeft">Parameter Meaning  </th><th class="markdownTableHeadLeft">Event Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Evt_TiltWarning  </td><td class="markdownTableBodyLeft">int  </td><td class="markdownTableBodyLeft">Warning number  </td><td class="markdownTableBodyLeft">Tilt warning when the number of warnings hasn't been exceeded - to be handled by app code.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Evt_Tilted  </td><td class="markdownTableBodyLeft">any  </td><td class="markdownTableBodyLeft">N/A  </td><td class="markdownTableBodyLeft">Tilt warnings exceeded - override TiltedEventHandler() in &lt;AppCode&gt;BaseGameMode and call the base class.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Evt_TiltSettled  </td><td class="markdownTableBodyLeft">any  </td><td class="markdownTableBodyLeft">N/A  </td><td class="markdownTableBodyLeft">After an Evt_Tilted event, notifies the tilt bob did not activate for at least the configured Tilt Settle Time  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Evt_TiltProcessingComplete  </td><td class="markdownTableBodyLeft">any  </td><td class="markdownTableBodyLeft">N/A  </td><td class="markdownTableBodyLeft">Tilt mode removed after end-of-ball processing completed, including the tilt bob settling - override TiltProcessingCompleteEventHandler() in &lt;AppCode&gt;BaseGameMode and call the base class.  </td></tr>
</table>
<p>Tilt ModeToGUI events issued by <a class="el" href="class_multimorphic_1_1_p3_app_1_1_modes_1_1_tilt_mode.html">Multimorphic.P3App.Modes.TiltMode</a></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Event Name  </th><th class="markdownTableHeadLeft">Parameter Type  </th><th class="markdownTableHeadLeft">Parameter Meaning  </th><th class="markdownTableHeadLeft">Event Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Evt_TiltWarning  </td><td class="markdownTableBodyLeft">int  </td><td class="markdownTableBodyLeft">Warning number  </td><td class="markdownTableBodyLeft">Tilt warning when the number of warnings hasn't been exceeded - to be handled by app code.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Evt_Tilted  </td><td class="markdownTableBodyLeft">any  </td><td class="markdownTableBodyLeft">N/A  </td><td class="markdownTableBodyLeft">Tilt warnings exceeded  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Evt_TiltComplete  </td><td class="markdownTableBodyLeft">any  </td><td class="markdownTableBodyLeft">N/A  </td><td class="markdownTableBodyLeft">Tilt processing is complete  </td></tr>
</table>
<p>Tilt ModeToMode events that are handled by <a class="el" href="class_multimorphic_1_1_p3_app_1_1_modes_1_1_tilt_mode.html">Multimorphic.P3App.Modes.TiltMode</a> and that can be posted by app code.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Event Name  </th><th class="markdownTableHeadLeft">Parameter Type  </th><th class="markdownTableHeadLeft">Parameter Meaning  </th><th class="markdownTableHeadLeft">Event Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Evt_EnableTilt  </td><td class="markdownTableBodyLeft">bool  </td><td class="markdownTableBodyLeft">Enable tilt detection  </td><td class="markdownTableBodyLeft">Used to enable the tilt logic to process tilt switch events. The tilt logic is automatically enabled/re-enabled when the warnings are reset, and it's automatically disabled after a tilt occurs.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Evt_ResetTiltWarnings  </td><td class="markdownTableBodyLeft">any  </td><td class="markdownTableBodyLeft">N/A  </td><td class="markdownTableBodyLeft">Reset the warning count to 0  </td></tr>
</table>
<p>Tilt can be disabled by the machine operator via the settings menu, but to fully disable the tilt logic, set "tiltModeEnabled" to false in &lt;AppCode&gt;BaseGameMode.</p>
<p>By default, the framework resets the number of tilt warnings to 0 at the beginning of each ball.</p>
<p>The application can query to current number of tilt warnings. One reason to do this is to set the number of tilt warnings at the beginning of the next ball, thereby preserving the count across balls.</p>
<div class="fragment"><div class="line">int numWarnings = 0;  // a class member variable</div>
<div class="line"> </div>
<div class="line">AddModeEventHandler(&quot;Evt_TiltWarningCountResponse&quot;, TiltWarningCountResponseEventHandler, Priority);</div>
<div class="line">PostModeEventToModes(&quot;Evt_GetTiltWarnings&quot;, null);</div>
<div class="line">data.currentPlayer.SaveData(&quot;TiltWarnings&quot;, numWarnings);</div>
<div class="line"> </div>
<div class="line">private bool TiltWarningCountResponseEventHandler(string evtName, object evtData){</div>
<div class="line">    numWarnings = (int)evtData;</div>
<div class="line">    RemoveModeEventHandler(&quot;Evt_TiltWarningCountResponse&quot;, TiltWarningCountResponseEventHandler);</div>
<div class="line">    return EVENT_STOP;</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line">// Set the number of tilt warnings</div>
<div class="line">int numWarnings = data.currentPlayer.GetData(&quot;TiltWarnings&quot;).ToInt();</div>
<div class="line">PostModeEventToModes(&quot;Evt_SetTiltWarnings&quot;, numWarnings);</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="HighScoreCheck"></a>
High Score Tracking</h2>
<p>Automatic high score tracking can be disabled by the programmer by setting "highScoreCheckEnabled" to false in &lt;AppCode&gt;BaseGameMode. For more information on High Score logic, see <a class="el" href="_persistent_data.html#HighScores">High Scores</a></p>
<h2 class="doxsection"><a class="anchor" id="Credits"></a>
Credits</h2>
<p>The framework includes logic to handle credit functionality. This includes options to set the game to 'free play' or to require players to insert money to play the game. When 'free play' is on, the framework doesn't need to do anything. When 'free play' is off, the framework will post some ModeToGUI events to indicate what is happening:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Event Name  </th><th class="markdownTableHeadLeft">Parameter Type  </th><th class="markdownTableHeadLeft">Parameter Meaning  </th><th class="markdownTableHeadLeft">Event Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Evt_NewCoin  </td><td class="markdownTableBodyLeft">N/A  </td><td class="markdownTableBodyLeft">N/A  </td><td class="markdownTableBodyLeft">A new coin was inserted, and it wasn't enough money to add a new credit  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Evt_NewCredit  </td><td class="markdownTableBodyLeft">N/A  </td><td class="markdownTableBodyLeft">N/A  </td><td class="markdownTableBodyLeft">A new coin was inserted, and it resulted in a new credit  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Evt_NoCredit  </td><td class="markdownTableBodyLeft">N/A  </td><td class="markdownTableBodyLeft">N/A  </td><td class="markdownTableBodyLeft">The start button was pressed, but no game was started, either because maxPlayers was reached or no credit was available  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Evt_TextCredits  </td><td class="markdownTableBodyLeft">string  </td><td class="markdownTableBodyLeft">Credits available  </td><td class="markdownTableBodyLeft">Sets the credits message to display on-screen, the text is either "Free Play" or "Credits: NNN"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Evt_NoCreditAvailable  </td><td class="markdownTableBodyLeft">N/A  </td><td class="markdownTableBodyLeft">N/A  </td><td class="markdownTableBodyLeft">The player tried to start a game with no credits available  </td></tr>
</table>
<p>These events can be used to play sounds and update GUI content as credits are added or consumed.</p>
<p>How the credit subsystem converts money to credits is determined by the operator adjustable GameAttributes shown in <a class="el" href="_persistent_data.html#CreditsGameAttributes">Credit Handling</a>.</p>
<p>The application can send this event to add credits programmatically: </p><div class="fragment"><div class="line">int numCreditsToAdd = 2;</div>
<div class="line">PostModeEventToModes(&quot;Evt_AddCredits&quot;, numCreditsToAdd);</div>
</div><!-- fragment --><p>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
